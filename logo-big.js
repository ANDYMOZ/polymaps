if (Modernizr.svg && Modernizr.svgclippaths) (function() {
  var po = org.polymaps;

  var poly = "M34.804,-58.212L34.804,-91.168L53.592,-91.168Q57.75,-91.168 61.6,-90.552Q65.45,-89.936 68.376,-88.165Q71.302,-86.394 73.073,-83.16Q74.844,-79.926 74.844,-74.69Q74.844,-69.454 73.073,-66.22Q71.302,-62.986 68.376,-61.215Q65.45,-59.444 61.6,-58.828Q57.75,-58.212 53.592,-58.212ZM10.626,-109.956L10.626,0.0L34.804,0.0L34.804,-39.424L60.214,-39.424Q70.532,-39.424 77.77,-42.427Q85.008,-45.43 89.551,-50.358Q94.094,-55.286 96.173,-61.677Q98.252,-68.068 98.252,-74.69Q98.252,-81.466 96.173,-87.78Q94.094,-94.094 89.551,-99.022Q85.008,-103.95 77.77,-106.953Q70.532,-109.956 60.214,-109.956ZM130.72,-39.732Q130.72,-44.506 131.644,-49.126Q132.568,-53.746 134.801,-57.288Q137.034,-60.83 140.73,-63.063Q144.426,-65.296 149.97,-65.296Q155.514,-65.296 159.287,-63.063Q163.06,-60.83 165.293,-57.288Q167.526,-53.746 168.45,-49.126Q169.374,-44.506 169.374,-39.732Q169.374,-34.958 168.45,-30.415Q167.526,-25.872 165.293,-22.253Q163.06,-18.634 159.287,-16.478Q155.514,-14.322 149.97,-14.322Q144.426,-14.322 140.73,-16.478Q137.034,-18.634 134.801,-22.253Q132.568,-25.872 131.644,-30.415Q130.72,-34.958 130.72,-39.732ZM108.852,-39.732Q108.852,-30.184 111.778,-22.484Q114.704,-14.784 120.094,-9.317Q125.484,-3.85 133.03,-0.924Q140.576,2.002 149.97,2.002Q159.364,2.002 166.987,-0.924Q174.61,-3.85 180.0,-9.317Q185.39,-14.784 188.316,-22.484Q191.242,-30.184 191.242,-39.732Q191.242,-49.28 188.316,-57.057Q185.39,-64.834 180.0,-70.301Q174.61,-75.768 166.987,-78.771Q159.364,-81.774 149.97,-81.774Q140.576,-81.774 133.03,-78.771Q125.484,-75.768 120.094,-70.301Q114.704,-64.834 111.778,-57.057Q108.852,-49.28 108.852,-39.732ZM205.932,-109.956L205.932,0.0L227.8,0.0L227.8,-109.956ZM284.586,9.856L317.85,-79.618L295.212,-79.618L277.81,-25.102L277.502,-25.102L259.484,-79.618L236.23,-79.618L264.104,-4.928Q265.028,-2.618 265.028,0.0Q265.028,3.542 262.949,6.468Q260.87,9.394 256.558,9.856Q253.324,10.01 250.09,9.702Q246.856,9.394 243.776,9.086L243.776,27.104Q247.164,27.412 250.475,27.643Q253.786,27.874 257.174,27.874Q268.416,27.874 274.73,23.716Q281.044,19.558 284.586,9.856Z";

  var maps = "M325.932,-79.618L325.932,0.0L347.8,0.0L347.8,-46.2Q347.8,-52.052 349.494,-55.671Q351.188,-59.29 353.575,-61.215Q355.962,-63.14 358.503,-63.833Q361.044,-64.526 362.584,-64.526Q367.82,-64.526 370.515,-62.755Q373.21,-60.984 374.365,-58.058Q375.52,-55.132 375.674,-51.667Q375.828,-48.202 375.828,-44.66L375.828,0.0L397.696,0.0L397.696,-44.352Q397.696,-48.048 398.235,-51.667Q398.774,-55.286 400.391,-58.135Q402.008,-60.984 404.857,-62.755Q407.706,-64.526 412.326,-64.526Q416.946,-64.526 419.641,-62.986Q422.336,-61.446 423.722,-58.828Q425.108,-56.21 425.416,-52.668Q425.724,-49.126 425.724,-45.122L425.724,0.0L447.592,0.0L447.592,-53.284Q447.592,-60.984 445.436,-66.451Q443.28,-71.918 439.43,-75.306Q435.58,-78.694 430.19,-80.234Q424.8,-81.774 418.486,-81.774Q410.17,-81.774 404.087,-77.77Q398.004,-73.766 394.462,-68.53Q391.228,-75.922 384.991,-78.848Q378.754,-81.774 371.208,-81.774Q363.354,-81.774 357.271,-78.386Q351.188,-74.998 346.876,-68.838L346.568,-68.838L346.568,-79.618ZM464.392,-55.132L486.26,-55.132Q486.876,-61.6 490.572,-64.372Q494.268,-67.144 500.736,-67.144Q503.662,-67.144 506.203,-66.759Q508.744,-66.374 510.669,-65.219Q512.594,-64.064 513.749,-61.985Q514.904,-59.906 514.904,-56.364Q515.058,-52.976 512.902,-51.205Q510.746,-49.434 507.05,-48.51Q503.354,-47.586 498.58,-47.124Q493.806,-46.662 488.878,-45.892Q483.95,-45.122 479.099,-43.813Q474.248,-42.504 470.475,-39.886Q466.702,-37.268 464.315,-32.879Q461.928,-28.49 461.928,-21.714Q461.928,-15.554 464.007,-11.088Q466.086,-6.622 469.782,-3.696Q473.478,-0.77 478.406,0.616Q483.334,2.002 489.032,2.002Q496.424,2.002 503.508,-0.154Q510.592,-2.31 515.828,-7.7Q515.982,-5.698 516.367,-3.773Q516.752,-1.848 517.368,0.0L539.544,0.0Q538.004,-2.464 537.388,-7.392Q536.772,-12.32 536.772,-17.71L536.772,-59.136Q536.772,-66.374 533.538,-70.763Q530.304,-75.152 525.222,-77.616Q520.14,-80.08 513.98,-80.927Q507.82,-81.774 501.814,-81.774Q495.192,-81.774 488.647,-80.465Q482.102,-79.156 476.866,-76.076Q471.63,-72.996 468.242,-67.914Q464.854,-62.832 464.392,-55.132ZM514.904,-38.962L514.904,-30.8Q514.904,-28.952 514.519,-25.872Q514.134,-22.792 512.44,-19.789Q510.746,-16.786 507.204,-14.63Q503.662,-12.474 497.194,-12.474Q494.576,-12.474 492.112,-12.936Q489.648,-13.398 487.8,-14.553Q485.952,-15.708 484.874,-17.71Q483.796,-19.712 483.796,-22.638Q483.796,-25.718 484.874,-27.72Q485.952,-29.722 487.723,-31.031Q489.494,-32.34 491.881,-33.11Q494.268,-33.88 496.732,-34.342Q499.35,-34.804 501.968,-35.112Q504.586,-35.42 506.973,-35.882Q509.36,-36.344 511.439,-37.037Q513.518,-37.73 514.904,-38.962ZM593.51,-14.322Q588.274,-14.322 584.578,-16.478Q580.882,-18.634 578.649,-22.099Q576.416,-25.564 575.415,-30.184Q574.414,-34.804 574.414,-39.578Q574.414,-44.506 575.338,-49.126Q576.262,-53.746 578.495,-57.288Q580.728,-60.83 584.347,-63.063Q587.966,-65.296 593.356,-65.296Q598.592,-65.296 602.211,-63.063Q605.83,-60.83 608.14,-57.211Q610.45,-53.592 611.451,-48.972Q612.452,-44.352 612.452,-39.578Q612.452,-34.804 611.528,-30.184Q610.604,-25.564 608.371,-22.099Q606.138,-18.634 602.519,-16.478Q598.9,-14.322 593.51,-14.322ZM553.316,-79.618L553.316,27.874L575.184,27.874L575.184,-9.856L575.492,-9.856Q579.496,-4.004 585.733,-1.001Q591.97,2.002 599.362,2.002Q608.14,2.002 614.685,-1.386Q621.23,-4.774 625.619,-10.472Q630.008,-16.17 632.164,-23.562Q634.32,-30.954 634.32,-38.962Q634.32,-47.432 632.164,-55.209Q630.008,-62.986 625.542,-68.838Q621.076,-74.69 614.3,-78.232Q607.524,-81.774 598.13,-81.774Q590.738,-81.774 584.578,-78.848Q578.418,-75.922 574.414,-69.454L574.106,-69.454L574.106,-79.618ZM664.256,-25.872L643.466,-25.872Q643.774,-17.864 647.085,-12.551Q650.396,-7.238 655.555,-4.004Q660.714,-0.77 667.336,0.616Q673.958,2.002 680.888,2.002Q687.664,2.002 694.209,0.693Q700.754,-0.616 705.836,-3.85Q710.918,-7.084 714.075,-12.397Q717.232,-17.71 717.232,-25.564Q717.232,-31.108 715.076,-34.881Q712.92,-38.654 709.378,-41.195Q705.836,-43.736 701.293,-45.276Q696.75,-46.816 691.976,-47.894Q687.356,-48.972 682.89,-49.896Q678.424,-50.82 674.959,-51.975Q671.494,-53.13 669.338,-54.978Q667.182,-56.826 667.182,-59.752Q667.182,-62.216 668.414,-63.679Q669.646,-65.142 671.417,-65.912Q673.188,-66.682 675.344,-66.913Q677.5,-67.144 679.348,-67.144Q685.2,-67.144 689.512,-64.911Q693.824,-62.678 694.286,-56.364L715.076,-56.364Q714.46,-63.756 711.303,-68.607Q708.146,-73.458 703.372,-76.384Q698.598,-79.31 692.515,-80.542Q686.432,-81.774 679.964,-81.774Q673.496,-81.774 667.336,-80.619Q661.176,-79.464 656.248,-76.615Q651.32,-73.766 648.317,-68.838Q645.314,-63.91 645.314,-56.21Q645.314,-50.974 647.47,-47.355Q649.626,-43.736 653.168,-41.349Q656.71,-38.962 661.253,-37.499Q665.796,-36.036 670.57,-34.958Q682.274,-32.494 688.819,-30.03Q695.364,-27.566 695.364,-22.638Q695.364,-19.712 693.978,-17.787Q692.592,-15.862 690.513,-14.707Q688.434,-13.552 685.893,-13.013Q683.352,-12.474 681.042,-12.474Q677.808,-12.474 674.805,-13.244Q671.802,-14.014 669.492,-15.631Q667.182,-17.248 665.719,-19.789Q664.256,-22.33 664.256,-25.872Z";

  var end = document.body;
  while (end.lastChild && end.lastChild.tagName) end = end.lastChild;
  if (end != document.body) end = end.parentNode;

  var svg = n$(end).add("svg:svg")
      .attr("width", 710)
      .attr("height", 170);

  var defs = svg.add("svg:defs");

  defs.add("svg:marker")
      .attr("id", "dot-big")
      .attr("viewBox", "-1 -1 2 2")
      .attr("markerUnits", "userSpaceOnUse")
      .attr("markerWidth", 6)
      .attr("markerHeight", 6)
    .add("svg:circle")
      .attr("r", 1);

  var g = svg.add("svg:g")
      .attr("transform", "translate(-8,130)");

  g.add("svg:path")
      .attr("d", poly)
      .attr("class", "poly")
      .attr("marker-mid", "url(#dot-big)");

  g.add("svg:path")
      .attr("d", maps)
      .attr("class", "maps")
      .attr("fill", "#021019");

  var g2 = g.add("svg:g")
      .attr("clip-path", "url(#clip)");

  g2.add("svg:clipPath")
      .attr("id", "clip")
    .add("svg:path")
      .attr("d", maps);

  var map = po.map()
      .container($n(g2.add("svg:g").attr("transform", "translate(330,-100)")))
      .size({x: 430, y: 140})
      .add(po.drag())
      .add(po.dblclick())
      .add(po.wheel());

  map.add(po.image()
      .url(po.url("http://{S}tile.cloudmade.com"
      + "/1a1b06b230af4efdbb989ea99e9841af" // http://cloudmade.com/register
      + "/999/256/{Z}/{X}/{Y}.png")
      .hosts(["a.", "b.", "c.", ""])));

  g.add("svg:path")
      .attr("d", maps)
      .attr("fill", "none")
      .attr("stroke", "black");
})();
