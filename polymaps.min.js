if(!org)var org={};if(!org.polymaps)org.polymaps={};
(function(s){function J(){for(var h=0;h<J.maps.length;h++)J.maps[h].resize()}function P(h){return 360/Math.PI*Math.atan(Math.exp(h*Math.PI/180))-90}function Q(h){return 180/Math.PI*Math.log(Math.tan(Math.PI/4+h*Math.PI/360))}function U(h,a){if(h.row>a.row){var e=h;h=a;a=e}return{x0:h.column,y0:h.row,x1:a.column,y1:a.row,dx:a.column-h.column,dy:a.row-h.row}}function X(h,a,e,d,c){e=Math.max(e,Math.floor(a.y0));d=Math.min(d,Math.ceil(a.y1));if(h.x0<a.x0||h.x1<a.x1){var g=h;h=a;a=g}g=h.dx/h.dy;var j=
a.dx/a.dy,o=h.dx>0,q=a.dx<0;for(e=e;e<d;e++){var l=g*Math.max(0,Math.min(h.dy,e+o-h.y0))+h.x0;c(Math.floor(j*Math.max(0,Math.min(a.dy,e+q-a.y0))+a.x0),Math.ceil(l),e)}}function Y(h,a,e,d,c,g){var j=U(h,a);a=U(a,e);h=U(e,h);if(j.dy>a.dy){e=j;j=a;a=e}if(j.dy>h.dy){e=j;j=h;h=e}if(a.dy>h.dy){e=a;a=h;h=e}j.dy&&X(h,j,d,c,g);a.dy&&X(h,a,d,c,g)}s.version="2.0.1";var R={x:0,y:0};s.id=function(){var h=0;return function(){return++h}}();s.svg=function(h){return document.createElementNS(s.ns.svg,h)};s.ns={svg:"http://www.w3.org/2000/svg",
xlink:"http://www.w3.org/1999/xlink"};s.transform=function(h,a,e,d,c,g){var j={},o,q,l;if(!arguments.length){h=1;a=c=e=0;d=1;g=0}j.zoomFraction=function(i){if(!arguments.length)return q;q=i;o=Math.floor(q+Math.log(Math.sqrt(h*h+a*a+e*e+d*d))/Math.log(2));l=Math.pow(2,-o);return j};j.apply=function(i){var k=Math.pow(2,-i.zoom),f=Math.pow(2,i.zoom-o);return{column:(h*i.column*k+e*i.row*k+c)*f,row:(a*i.column*k+d*i.row*k+g)*f,zoom:i.zoom-o}};j.unapply=function(i){var k=Math.pow(2,-i.zoom),f=Math.pow(2,
i.zoom+o);return{column:(i.column*k*d-i.row*k*e-c*d+g*e)/(h*d-a*e)*f,row:(i.column*k*a-i.row*k*h-c*a+g*h)/(e*a-d*h)*f,zoom:i.zoom+o}};j.toString=function(){return"matrix("+[h*l,a*l,e*l,d*l].join(" ")+" 0 0)"};return j.zoomFraction(0)};s.cache=function(h,a){function e(k){i--;a&&a(k);delete j[k.key];if(k.next)k.next.prev=k.prev;else if(q=k.prev)q.next=null;if(k.prev)k.prev.next=k.next;else if(o=k.next)o.prev=null}function d(){for(var k=q;i>l;k=k.prev){if(!k)break;k.lock||e(k)}}var c={},g={},j={},o=
null,q=null,l=64,i=0;c.peek=function(k){return j[[k.zoom,k.column,k.row].join("/")]};c.load=function(k,f){var r=[k.zoom,k.column,k.row].join("/"),t=j[r];if(t){if(t.prev){if(t.prev.next=t.next)t.next.prev=t.prev;else q=t.prev;t.prev=null;t.next=o;o=o.prev=t}t.lock=1;return g[r]=t}t={key:r,column:k.column,row:k.row,zoom:k.zoom,next:o,prev:null,lock:1};h.call(null,t,f);g[r]=j[r]=t;if(o)o.prev=t;else q=t;o=t;i++;d();return t};c.unload=function(k){if(!(k in g))return false;var f=g[k];f.lock=0;delete g[k];
f.request&&f.request.abort(false)?e(f):d();return f};c.locks=function(){return g};c.size=function(k){if(!arguments.length)return l;l=k;d();return c};return c};s.url=function(h){function a(d){var c=1<<d.zoom,g=d.column%c;if(g<0)g+=c;return h.replace(/{(.)}/g,function(j,o){switch(o){case "S":return e[(d.zoom+d.row+g)%e.length];case "Z":return d.zoom;case "X":return g;case "Y":return d.row;case "B":var q=s.map.coordinateLocation({row:d.row,column:g,zoom:d.zoom}),l=s.map.coordinateLocation({row:d.row+
1,column:g+1,zoom:d.zoom}),i=Math.ceil(Math.log(d.zoom)/Math.LN2);return l.lat.toFixed(i)+","+q.lon.toFixed(i)+","+q.lat.toFixed(i)+","+l.lon.toFixed(i)}return o})}var e=[];a.template=function(d){if(!arguments.length)return h;h=d;return a};a.hosts=function(d){if(!arguments.length)return e;e=d;return a};return a};s.dispatch=function(h){var a={};h.on=function(e,d){for(var c=a[e]||(a[e]=[]),g=0;g<c.length;g++)if(c[g].handler==d)return h;c.push({handler:d,on:true});return h};h.off=function(e,d){var c=
a[e];if(c)for(var g=0;g<c.length;g++){var j=c[g];if(j.handler==d){j.on=false;c.splice(g,1);break}}return h};return function(e){var d=a[e.type];if(d){d=d.slice();for(var c=0;c<d.length;c++){var g=d[c];g.on&&g.handler.call(h,e)}}}};s.queue=function(){function h(){if(!(c>=g||!d.length)){c++;d.pop()()}}function a(j){for(var o=0;o<d.length;o++)if(d[o]==j){d.splice(o,1);return true}return false}function e(j,o,q){function l(){i=new XMLHttpRequest;q&&i.overrideMimeType(q);i.open("GET",j,true);i.onreadystatechange=
function(){if(i.readyState==4){c--;i.status<300&&o(i);h()}};i.send(null)}var i;d.push(l);h();return{abort:function(k){if(a(l))return true;if(k&&i){i.abort();return true}return false}}}var d=[],c=0,g=6;return{text:function(j,o,q){return e(j,function(l){l.responseText&&o(l.responseText)},q)},xml:function(j,o){return e(j,function(q){q.responseXML&&o(q.responseXML)},"application/xml")},json:function(j,o){return e(j,function(q){q.responseText&&o(JSON.parse(q.responseText))},"application/json")},image:function(j,
o,q){function l(){i=document.createElement("img");i.onerror=function(){c--;h()};i.onload=function(){c--;q(i);h()};i.src=o;j.setAttributeNS(s.ns.xlink,"href",o)}var i;d.push(l);h();return{abort:function(k){if(a(l))return true;if(k&&i){i.src="about:";return true}return false}}}}}();s.map=function(){function h(){if(G){var m=45/Math.pow(2,q+l-3),u=Math.max(Math.abs(t*g.x+r*g.y),Math.abs(w*g.x+n*g.y)),y=P(B-u*m/j.y);u=P(H+u*m/j.y);o.lat=Math.max(y,Math.min(u,o.lat));y=Math.max(Math.abs(t*g.y+r*g.x),Math.abs(w*
g.y+n*g.x));o.lon=Math.max(G[0].lon-y*m/j.x,Math.min(G[1].lon+y*m/j.x,o.lon))}}var a={},e,d,c=R,g=R,j={x:256,y:256},o={lat:37.76487,lon:-122.41948},q=12,l=0,i=1,k=[1,18],f=0,r=1,t=0,n=1,w=0,B=-180,H=180,G=[{lat:P(B),lon:-Infinity},{lat:P(H),lon:Infinity}];a.locationCoordinate=function(m){m=s.map.locationCoordinate(m);var u=Math.pow(2,q);m.column*=u;m.row*=u;m.zoom+=q;return m};a.coordinateLocation=s.map.coordinateLocation;a.coordinatePoint=function(m,u){var y=Math.pow(2,q-u.zoom),D=Math.pow(2,q-m.zoom),
E=(u.column*y-m.column*D)*j.x*i;y=(u.row*y-m.row*D)*j.y*i;return{x:g.x+r*E-t*y,y:g.y+t*E+r*y}};a.pointCoordinate=function(m,u){var y=Math.pow(2,q-m.zoom),D=(u.x-g.x)/i,E=(u.y-g.y)/i;return{column:m.column*y+(n*D-w*E)/j.x,row:m.row*y+(w*D+n*E)/j.y,zoom:q}};a.locationPoint=function(m){var u=Math.pow(2,q+l-3)/45,y=(m.lon-o.lon)*u*j.x;m=(Q(o.lat)-Q(m.lat))*u*j.y;return{x:g.x+r*y-t*m,y:g.y+t*y+r*m}};a.pointLocation=function(m){var u=45/Math.pow(2,q+l-3),y=(m.x-g.x)*u;m=(m.y-g.y)*u;return{lon:o.lon+(n*
y-w*m)/j.x,lat:P(Q(o.lat)-(w*y+n*m)/j.y)}};var C=s.svg("rect");C.setAttribute("visibility","hidden");C.setAttribute("pointer-events","all");a.container=function(m){if(!arguments.length)return e;e=m;e.setAttribute("class","map");e.appendChild(C);return a.resize()};a.focusableParent=function(){for(var m=e;m;m=m.parentNode)if(m.tabIndex>=0)return m;return window};a.mouse=function(m){var u=(e.ownerSVGElement||e).createSVGPoint();u.x=m.clientX;u.y=m.clientY;return u.matrixTransform(e.getScreenCTM().inverse())};
a.size=function(m){if(!arguments.length)return c;d=m;return a.resize()};a.resize=function(){if(d){c=d;J.remove(a)}else{var m=e.ownerSVGElement||e;if(m.offsetWidth==null){C.setAttribute("width","100%");C.setAttribute("height","100%");m=C}b=m.getBoundingClientRect();c={x:b.width,y:b.height};J.add(a)}C.setAttribute("width",c.x);C.setAttribute("height",c.y);g={x:c.x/2,y:c.y/2};h();a.dispatch({type:"resize"});return a};a.tileSize=function(m){if(!arguments.length)return j;j=m;a.dispatch({type:"move"});
return a};a.center=function(m){if(!arguments.length)return o;o=m;h();a.dispatch({type:"move"});return a};a.panBy=function(m){var u=45/Math.pow(2,q+l-3),y=m.x*u;m=m.y*u;return a.center({lon:o.lon+(w*m-n*y)/j.x,lat:P(Q(o.lat)+(w*y+n*m)/j.y)})};a.centerRange=function(m){if(!arguments.length)return G;if(G=m){B=G[0].lat>-90?Q(G[0].lat):-Infinity;H=G[0].lat<90?Q(G[1].lat):Infinity}else{B=-Infinity;H=Infinity}h();a.dispatch({type:"move"});return a};a.zoom=function(m){if(!arguments.length)return q+l;q=Math.max(k[0],
Math.min(k[1],m));l=q-(q=Math.round(q));i=Math.pow(2,l);return a.center(o)};a.zoomBy=function(m,u,y){if(arguments.length<2)return a.zoom(q+l+m);if(arguments.length<3)y=a.pointLocation(u);q=Math.max(k[0],Math.min(k[1],q+l+m));l=q-(q=Math.round(q));i=Math.pow(2,l);var D=a.locationPoint(y);return a.panBy({x:u.x-D.x,y:u.y-D.y})};a.zoomRange=function(m){if(!arguments.length)return k;k=m;return a.zoom(q+l)};a.angle=function(m){if(!arguments.length)return f;f=m;r=Math.cos(f);t=Math.sin(f);n=Math.cos(-f);
w=Math.sin(-f);h();a.dispatch({type:"move"});return a};a.add=function(m){m.map(a);return a};a.remove=function(m){m.map(null);return a};a.dispatch=s.dispatch(a);return a};J.maps=[];J.add=function(h){for(var a=0;a<J.maps.length;a++)if(J.maps[a]==h)return;J.maps.push(h)};J.remove=function(h){for(var a=0;a<J.maps.length;a++)if(J.maps[a]==h){J.maps.splice(a,1);return}};window.addEventListener("resize",J,false);s.map.locationCoordinate=function(h){var a=1/360;return{column:(h.lon+180)*a,row:(180-Q(h.lat))*
a,zoom:0}};s.map.coordinateLocation=function(h){var a=45/Math.pow(2,h.zoom-3);return{lon:a*h.column-180,lat:P(180-a*h.row)}};s.layer=function(h,a){function e(){function r(z){var A=z.zoom,F=1<<A,I=z.column%F,N=z.row;if(I<0)I+=F;return{locationPoint:function(M){M=s.map.locationCoordinate(M);var O=Math.pow(2,A-M.zoom);return{x:C.x*(O*M.column-I),y:C.y*(O*M.row-N)}}}}function t(z,A,F){var I=y.zoom,N=2-E,M=4+E;for(z=z;z<A;z++){var O=c.load({column:z,row:F,zoom:I},r);if(!O.ready&&!(O.key in x)){O.proxyRefs=
{};for(var S,T,K,L=1;L<=N;L++){T=true;for(var V=0,Z=1<<L;V<=Z;V++)for(var W=0;W<=Z;W++)if((K=c.peek(S={column:(z<<L)+W,row:(F<<L)+V,zoom:I+L}))&&K.ready){x[K.key]=c.load(S);K.proxyCount++;O.proxyRefs[K.key]=K}else T=false;if(T)break}if(!T)for(L=1;L<=M;L++)if((K=c.peek(S={column:z>>L,row:F>>L,zoom:I-L}))&&K.ready){x[K.key]=c.load(S);K.proxyCount++;O.proxyRefs[K.key]=K;break}}x[O.key]=O}}var n=d.map(),w=n.zoom(),B=w-(w=Math.round(w)),H=n.size(),G=n.angle(),C=n.tileSize(),m=n.locationCoordinate(n.center());
j?i.removeAttribute("visibility"):i.setAttribute("visibility","hidden");for(var u=-4;u<=2;u++)f[u].setAttribute("class","zoom"+(u<0?"":"+")+u+" zoom"+(w+u));i.setAttribute("transform","translate("+H.x/2+","+H.y/2+")"+(G?"rotate("+G/Math.PI*180+")":"")+(B?"scale("+Math.pow(2,B)+")":"")+(k?k.zoomFraction(B):""));var y=n.pointCoordinate(m,R);u=n.pointCoordinate(m,{x:H.x,y:0});var D=n.pointCoordinate(m,H);n=n.pointCoordinate(m,{x:0,y:H.y});if(!k&&!G&&!B){m.column=(Math.round(C.x*m.column)+(H.x&1)/2)/
C.x;m.row=(Math.round(C.y*m.row)+(H.y&1)/2)/C.y}var E=o?o(w)-w:0;if(E){B=Math.pow(2,E);y.column*=B;y.row*=B;u.column*=B;u.row*=B;D.column*=B;D.row*=B;n.column*=B;n.row*=B;y.zoom=u.zoom=D.zoom=n.zoom+=E}if(k){y=k.unapply(y);u=k.unapply(u);D=k.unapply(D);n=k.unapply(n);m=k.unapply(m)}w=c.locks();var x={};for(var v in w)w[v].proxyCount=0;if(j&&E>-5&&E<3){B=1<<y.zoom;if(g){Y(y,u,D,0,B,t);Y(D,n,y,0,B,t)}else{D=Math.floor((y.column+D.column)/2);n=Math.max(0,Math.min(B-1,Math.floor((u.row+n.row)/2)));u=
Math.min(4,y.zoom);D=D>>u<<u;n=n>>u<<u;t(D,D+1,n)}}for(v in x){u=x[v];B=Math.pow(2,u.level=u.zoom-m.zoom);D=C.x*(u.column-m.column*B);n=C.y*(u.row-m.row*B);u.element.setAttribute("transform","translate("+D+","+n+")")}for(v in w)if(!(v in x)){u=c.unload(v);u.element.parentNode.removeChild(u.element);delete u.proxyRefs}for(v in x){u=x[v];if(u.element.parentNode!=f[u.level]){f[u.level].appendChild(u.element);d.show&&d.show(u)}}}var d={},c=d.cache=s.cache(h,a).size(512),g=true,j=true,o,q,l,i,k,f;d.map=
function(r){if(!arguments.length)return l;if(l){if(l==r){i.parentNode.appendChild(i);return d}l.off("move",e).off("resize",e);i.parentNode.removeChild(i);i=f=null}if(l=r){i=l.container().appendChild(s.svg("g"));q&&i.setAttribute("id",q);i.setAttribute("class","layer");f={};for(var t=-4;t<=-1;t++)(f[t]=i.appendChild(s.svg("g"))).setAttribute("transform","scale("+Math.pow(2,-t)+")");for(t=2;t>=1;t--)(f[t]=i.appendChild(s.svg("g"))).setAttribute("transform","scale("+Math.pow(2,-t)+")");f[0]=i.appendChild(s.svg("g"));
d.init&&d.init(i);l.on("move",e).on("resize",e);e()}return d};d.container=function(){return i};d.id=function(r){if(!arguments.length)return q;q=r;return d};d.visible=function(r){if(!arguments.length)return j;j=r;l&&e();return d};d.transform=function(r){if(!arguments.length)return k;k=r;l&&e();return d};d.zoom=function(r){if(!arguments.length)return o;o=typeof r=="function"||r==null?r:function(){return r};return d};d.tile=function(r){if(!arguments.length)return g;g=r;return d};d.dispatch=s.dispatch(d);
d.on("load",function(r){if(r.tile.proxyRefs){for(var t in r.tile.proxyRefs){var n=r.tile.proxyRefs[t];--n.proxyCount<=0&&c.unload(t)&&n.element.parentNode.removeChild(n.element)}delete r.tile.proxyRefs}});return d};s.image=function(){var h=s.layer(function(e){var d=e.element=s.svg("image"),c=h.map().tileSize();d.setAttribute("preserveAspectRatio","none");d.setAttribute("width",c.x);d.setAttribute("height",c.y);d.setAttribute("opacity",0);if(typeof a=="function")e.request=s.queue.image(d,a(e),function(){delete e.request;
e.ready=true;d.removeAttribute("opacity");h.dispatch({type:"load",tile:e})});else{e.ready=true;d.setAttributeNS(s.ns.xlink,"href",a);h.dispatch({type:"load",tile:e})}},function(e){e.request&&e.request.abort(true)}),a="about:blank";h.url=function(e){if(!arguments.length)return a;a=typeof e=="string"&&/{.}/.test(e)?s.url(e):e;return h};return h};s.geoJson=function(h){function a(f,r){var t=r({lat:f[1],lon:f[0]}),n=s.svg("circle");n.setAttribute("r",4.5);n.setAttribute("cx",t.x);n.setAttribute("cy",t.y);
return n}function e(f,r,t,n){n.push("M");for(var w=0;w<f.length-r;w++){p=t({lat:f[w][1],lon:f[w][0]});n.push(p.x);n.push(",");n.push(p.y);n.push("L")}n.pop()}function d(f,r,t,n){for(var w=0;w<f.length;w++)e(f[w],r,t,n);r&&n.push("Z")}function c(f,r,t,n){for(var w=[],B=0;B<r.length;B++)f(r[B],t,n,w);if(w.length){f=s.svg("path");f.setAttribute("d",w.join(""));return f}}var g=s.layer(function(f,r){function t(w){var B=l[f.key]||(l[f.key]=[]),H=[];if(w.next)f.request=h(w.next.href,t);for(var G=0;G<w.features.length;G++){var C=
w.features[G],m=C.geometry&&C.geometry.type in k&&k[C.geometry.type](C.geometry,r.locationPoint);if(m){C={element:n.appendChild(m),data:C};B.push(C);H.push(C)}}f.ready=true;g.dispatch({type:"load",tile:f,features:H})}var n=f.element=s.svg("g");r=r(f);if(i)t({features:i});else f.request=h(j(f),t);q&&n.setAttribute("clip-path","url(#"+q+")")},function(f){f.request&&f.request.abort(true);delete l[f.key]}),j=s.url("about:blank"),o=true,q,l={},i;if(!arguments.length)h=s.queue.json;var k={Point:function(f,
r){return a(f.coordinates,r)},MultiPoint:function(f,r){for(var t=s.svg("g"),n=0;n<f.coordinates.length;n++)t.appendChild(a(f.coordinates[n],r));return t},LineString:function(f,r){return c(e,[f.coordinates],0,r)},MultiLineString:function(f,r){return c(e,f.coordinates,0,r)},Polygon:function(f,r){return c(d,[f.coordinates],1,r)},MultiPolygon:function(f,r){return c(d,f.coordinates||f.coords,1,r)},GeometryCollection:function(f,r){for(var t=s.svg("g"),n=0;n<f.geometries.length;n++){var w=f.geometries[n]&&
f.geometries[n].type in k&&k[f.geometries[n].type](f.geometries[n],r);w&&t.appendChild(w)}return t}};g.url=function(f){if(!arguments.length)return j;j=typeof f=="string"?s.url(f):f;return g};g.features=function(f){if(!arguments.length)return i;f&&g.tile(false);i=f;return g};g.clip=function(f){if(!arguments.length)return o;o=f;return g};g.init=function(f){if(o&&g.tile()){var r=g.map().tileSize(),t=f.insertBefore(s.svg("clipPath"),f.firstChild),n=t.appendChild(s.svg("rect"));t.setAttribute("id",q="org.polymaps."+
s.id());n.setAttribute("width",r.x);n.setAttribute("height",r.y)}f.setAttribute("fill-rule","evenodd")};g.show=function(f){g.dispatch({type:"show",tile:f,features:l[f.key]||[]})};g.reshow=function(){var f=g.cache.locks();for(var r in f)g.show(f[r])};return g};s.dblclick=function(){function h(d){var c=e.zoom();c=d.shiftKey?Math.ceil(c)-c-1:1-c+Math.floor(c);e.zoomBy(c,e.mouse(d))}var a={},e;a.map=function(d){if(!arguments.length)return e;e=d;e.container().addEventListener("dblclick",h,false);return a};
return a};s.drag=function(){function h(j){g={x:j.clientX,y:j.clientY};d.focusableParent().focus();j.preventDefault();c=document.body.style.cursor;document.body.style.cursor="move"}function a(j){if(g){d.panBy({x:j.clientX-g.x,y:j.clientY-g.y});g.x=j.clientX;g.y=j.clientY}}var e={},d,c,g;e.map=function(j){if(!arguments.length)return d;d=j;d.container().addEventListener("mousedown",h,false);return e};window.addEventListener("mousemove",a,false);window.addEventListener("mouseup",function(j){if(g){a(j);
g=null;document.body.style.cursor=c}},false);return e};s.touch=function(){function h(l,i){var k=i.x-l.x,f=i.y-l.y;return Math.sqrt(k*k+f*f)}function a(l){for(var i=0;i<l.touches.length;i++)l.touches[i].identifier in c||(c[l.touches[i].identifier]={x:l.touches[i].clientX,y:l.touches[i].clientY});if(l.touches.length==2){i=c[l.touches[0].identifier];p1=c[l.touches[1].identifier];g=h(i,p1);j={x:i.x+(p1.x-i.x)*0.5,y:i.y+(p1.y-i.y)*0.5}}l.preventDefault();return false}var e={},d,c={},g=null,j=null,o=null,
q=null;e.map=function(l){if(!arguments.length)return d;d=l;d.container().addEventListener("touchstart",a,false);return e};window.addEventListener("touchmove",function(l){if(l.touches.length==1){var i=c[l.touches[0].identifier],k={x:l.touches[0].clientX,y:l.touches[0].clientY};d.panBy({x:k.x-i.x,y:k.y-i.y});c[l.touches[0].identifier]=k}if(l.touches.length==2){i={x:l.touches[0].clientX,y:l.touches[0].clientY};k={x:l.touches[1].clientX,y:l.touches[1].clientY};dist=h(i,k);o=dist/g;q={x:i.x+(k.x-i.x)*
0.5,y:i.y+(k.y-i.y)*0.5};d.container().style.webkitTransformOrigin=j.x+"px "+j.y+"px";d.container().style.webkitTransform="translate3d("+(q.x-j.x)+"px,"+(q.y-j.y)+"px,0px) scale3d("+o+","+o+",1) ";c[l.touches[0].identifier]=i;c[l.touches[1].identifier]=k}l.preventDefault();return false},false);window.addEventListener("touchend",function(l){if(l.touches.length<2&&o){d.container().style.webkitTransformOrigin="";d.container().style.webkitTransform="";d.panBy({x:-j.x,y:-j.y});d.zoomBy(Math.log(o)/Math.LN2,
{x:0,y:0});d.panBy({x:q.x-j.x,y:q.y-j.y});d.panBy({x:j.x,y:j.y});q=o=undefined}for(var i=0;i<l.changedTouches.length;i++)l.changedTouches[i].identifier in c&&delete c[l.changedTouches[i].identifier]},false);return e};s.wheel=function(){function h(){g=null}function a(l){var i=Math.max(-1,Math.min(1,(l.wheelDelta/120||-l.detail)*0.1)),k=q.mouse(l);if(j){o=o*0.95+Math.abs(i)*0.05;if(o>0.5)i*=0.4}g||(g=q.pointLocation(k));q.off("move",h);if(c)q.zoomBy(i,k,g);else if(i){var f=Date.now();if(f-d>200){q.zoomBy(i>
0?+1:-1,k,g);d=f}}q.on("move",h);l.preventDefault();return false}var e={},d=0,c=true,g,j=/WebKit\/533/.test(navigator.userAgent),o=0.3,q;e.smooth=function(l){if(!arguments.length)return c;c=l;return e};e.map=function(l){if(!arguments.length)return q;(q=l).on("move",h);var i=q.container();i.addEventListener("mousemove",h,false);i.addEventListener("mousewheel",a,false);i.addEventListener("DOMMouseScroll",a,false);return e};return e};s.arrow=function(){function h(k){if(!(k.ctrlKey||k.altKey||k.metaKey)){var f=
Date.now(),r=0,t=0,n=0;switch(k.keyCode){case 37:if(!c.left){g=f;c.left=1;c.right||(r=l)}break;case 39:if(!c.right){g=f;c.right=1;c.left||(r=-l)}break;case 38:if(!c.up){g=f;c.up=1;c.down||(t=l)}break;case 40:if(!c.down){g=f;c.down=1;c.up||(t=-l)}break;case 109:case 189:if(!c.plus){g=f;c.plus=1;c.minus||(n=-1)}break;case 61:case 187:if(!c.minus){g=f;c.minus=1;c.plus||(n=1)}break;default:return}if(n){f=i.zoom();i.zoom(n<0?Math.ceil(f)-1:Math.floor(f)+1)}else if(r||t)i.panBy({x:r,y:t});if(!j&&c.left|
c.right|c.up|c.down)j=setInterval(e,q);k.preventDefault()}}function a(k){g=Date.now();switch(k.keyCode){case 37:c.left=0;break;case 39:c.right=0;break;case 38:c.up=0;break;case 40:c.down=0;break;case 109:case 189:c.plus=0;break;case 61:case 187:c.minus=0;break;default:return}if(j&&!(c.left|c.right|c.up|c.down))j=clearInterval(j);k.preventDefault()}function e(){if(i)if(!(Date.now()<g+o)){var k=(c.left-c.right)*l,f=(c.up-c.down)*l;if(k||f)i.panBy({x:k,y:f})}}var d={},c={left:0,right:0,up:0,down:0,plus:0,
minus:0},g=0,j,o=250,q=50,l=16,i;d.map=function(k){if(!arguments.length)return i;i=k;var f=i.focusableParent();f.addEventListener("keydown",h,false);f.addEventListener("keyup",a,false);return d};d.speed=function(k){if(!arguments.length)return l;l=k;return d};return d};s.hash=function(){function h(){var j=g.center(),o=g.zoom(),q=Math.max(0,Math.ceil(Math.log(o)/Math.LN2));j="#"+o.toFixed(2)+"/"+j.lat.toFixed(q)+"/"+j.lon.toFixed(q);if(d!==j)location.replace(d=j)}function a(){if(location.hash!==d){var j=
(d=location.hash).substring(1).split("/").map(Number);if(j.length<3||j.some(isNaN))h();else{var o=g.size();g.zoomBy(j[0]-g.zoom(),{x:o.x/2,y:o.y/2},{lat:Math.min(c,Math.max(-c,j[1])),lon:j[2]})}}}var e={},d,c=89.99999999,g;e.map=function(j){if(!arguments.length)return g;g&&g.off("move",h);(g=j).on("move",h);window.addEventListener("hashchange",a,false);location.hash?a():h();return e};return e};s.interact=function(){var h={},a=s.drag(),e=s.wheel(),d=s.dblclick(),c=s.arrow();h.map=function(g){a.map(g);
e.map(g);d.map(g);c.map(g);return h};return h};s.compass=function(){function h(x){r.setAttribute("class","compass active");y||(y=setInterval(function(){D&&Date.now()>B+H&&E.panBy(D)},G));D&&E.panBy(D);B=Date.now();o(x)}function a(){r.setAttribute("class","compass");if(y){clearInterval(y);y=0}}function e(x){return function(){x?this.setAttribute("class","active"):this.removeAttribute("class");D=x}}function d(x){return function(v){r.setAttribute("class","compass active");var z=E.zoom();E.zoom(x<0?Math.ceil(z)-
1:Math.floor(z)+1);o(v)}}function c(x){return function(v){E.zoom(x);o(v)}}function g(){this.setAttribute("class","active")}function j(){this.removeAttribute("class")}function o(x){x.stopPropagation();x.preventDefault()}function q(x){var v=Math.SQRT1_2*n,z=n*0.7,A=n*0.2,F=s.svg("g"),I=F.appendChild(s.svg("path")),N=F.appendChild(s.svg("path"));I.setAttribute("class","direction");I.setAttribute("pointer-events","all");I.setAttribute("d","M0,0L"+v+","+v+"A"+n+","+n+" 0 0,1 "+-v+","+v+"Z");N.setAttribute("class",
"chevron");N.setAttribute("d","M"+A+","+(z-A)+"L0,"+z+" "+-A+","+(z-A));N.setAttribute("pointer-events","none");F.addEventListener("mousedown",h,false);F.addEventListener("mouseover",e(x),false);F.addEventListener("mouseout",e(null),false);F.addEventListener("dblclick",o,false);return F}function l(x){var v=n*0.4,z=v/2,A=s.svg("g"),F=A.appendChild(s.svg("path")),I=A.appendChild(s.svg("path")),N=A.appendChild(s.svg("path")),M=A.appendChild(s.svg("path"));F.setAttribute("class","back");F.setAttribute("d",
"M"+-v+",0V"+-v+"A"+v+","+v+" 0 1,1 "+v+","+-v+"V0Z");I.setAttribute("class","direction");I.setAttribute("d",F.getAttribute("d"));N.setAttribute("class","chevron");N.setAttribute("d","M"+-z+","+-v+"H"+z+(x>0?"M0,"+(-v-z)+"V"+-z:""));M.setAttribute("class","fore");M.setAttribute("fill","none");M.setAttribute("d",F.getAttribute("d"));A.addEventListener("mousedown",d(x),false);A.addEventListener("mouseover",g,false);A.addEventListener("mouseout",j,false);A.addEventListener("dblclick",o,false);return A}
function i(x){var v=n*0.2,z=n*0.4,A=s.svg("g"),F=A.appendChild(s.svg("rect")),I=A.appendChild(s.svg("path"));F.setAttribute("pointer-events","all");F.setAttribute("fill","none");F.setAttribute("x",-z);F.setAttribute("y",-0.75*z);F.setAttribute("width",2*z);F.setAttribute("height",1.5*z);I.setAttribute("class","chevron");I.setAttribute("d","M"+-v+",0H"+v);A.addEventListener("mousedown",c(x),false);A.addEventListener("dblclick",o,false);return A}function k(){if(r){var x=n+6,v=x,z=E.size();switch(C){case "top-left":break;
case "top-right":x=z.x-x;break;case "bottom-left":v=z.y-v;break;case "bottom-right":x=z.x-x;v=z.y-v;break}r.setAttribute("transform","translate("+x+","+v+")");for(var A in t)A==E.zoom()?t[A].setAttribute("class","active"):t[A].removeAttribute("class")}}var f={},r,t={},n=30,w=16,B=0,H=250,G=50,C="top-left",m="small",u="small",y,D,E;f.radius=function(x){if(!arguments.length)return n;n=x;return f};f.speed=function(x){if(!arguments.length)return n;w=x;return f};f.position=function(x){if(!arguments.length)return C;
C=x;return f};f.pan=function(x){if(!arguments.length)return u;u=x;return f};f.zoom=function(x){if(!arguments.length)return m;m=x;return f};f.map=function(x){if(!arguments.length)return E;E=x;E.on("move",k);E.on("resize",k);r=E.container().appendChild(s.svg("g"));r.setAttribute("class","compass");if(u!="none"){var v=r.appendChild(s.svg("g"));v.setAttribute("class","pan");var z=v.appendChild(s.svg("circle"));z.setAttribute("class","back");z.setAttribute("r",n);v.appendChild(q({x:0,y:-w})).setAttribute("transform",
"rotate(0)");v.appendChild(q({x:w,y:0})).setAttribute("transform","rotate(90)");v.appendChild(q({x:0,y:w})).setAttribute("transform","rotate(180)");v.appendChild(q({x:-w,y:0})).setAttribute("transform","rotate(270)");v=v.appendChild(s.svg("circle"));v.setAttribute("fill","none");v.setAttribute("class","fore");v.setAttribute("r",n);window.addEventListener("mouseup",a,false)}if(m!="none"){v=r.appendChild(s.svg("g"));v.setAttribute("class","zoom");z=-0.5;if(m=="big"){t={};var A=E.zoomRange()[0];for(z=
0;A<=E.zoomRange()[1];A++,z++)(t[A]=v.appendChild(i(A))).setAttribute("transform","translate(0,"+-(z+0.75)*n*0.4+")")}A=u=="none"?0.4:2;v.setAttribute("transform","translate(0,"+n*(/^top-/.test(C)?A+(z+0.5)*0.4:-A)+")");v.appendChild(l(+1)).setAttribute("transform","translate(0,"+-(z+0.5)*n*0.4+")");v.appendChild(l(-1)).setAttribute("transform","scale(-1)")}k();return f};return f};s.grid=function(){function h(){var c=d.firstChild,g=e.size(),j=e.pointLocation(R);e.pointLocation(g);var o=Math.pow(2,
4-Math.round(e.zoom()));j.lat=Math.floor(j.lat/o)*o;j.lon=Math.ceil(j.lon/o)*o;for(var q;(q=e.locationPoint(j).x)<=g.x;j.lon+=o){c||(c=d.appendChild(s.svg("line")));c.setAttribute("x1",q);c.setAttribute("x2",q);c.setAttribute("y1",0);c.setAttribute("y2",g.y);c=c.nextSibling}for(;(q=e.locationPoint(j).y)<=g.y;j.lat-=o){c||(c=d.appendChild(s.svg("line")));c.setAttribute("y1",q);c.setAttribute("y2",q);c.setAttribute("x1",0);c.setAttribute("x2",g.x);c=c.nextSibling}for(;c;){g=c.nextSibling;d.removeChild(c);
c=g}}var a={},e,d;a.map=function(c){if(!arguments.length)return e;e=c;e.on("move",h);e.on("resize",h);if(!d){d=s.svg("g");d.setAttribute("class","grid")}e.container().appendChild(d);h();return a};return a}})(org.polymaps);
